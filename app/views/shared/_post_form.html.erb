<%= form_with(model: @post, local: true) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>

  <%= f.label :images, "アップロード画像" %>
  <%= f.file_field :images, multiple: true, accept: 'image/jpg image/jpeg image/gif image/png' %>

  <%= f.label :name, "商品名" %>
  <%= f.text_field :name, class: 'form-control' %>

  <%= f.label :price, "値段（任意）" %>
  <%= f.number_field :price, class: 'form-control' %>

  <%= f.label :store, "お店の名前（任意）" %>
  <%= f.text_field :store, class: 'form-control' %>

  <%= f.label :address, "お店の住所（任意）" %>
  <%= f.text_field :address, class: 'form-control' %>

  <%= f.label :content, "コメント" %>
  <%= f.text_area :content, placeholder: "感想を書いてみよう", class: 'form-control' %>

  <%= f.submit yield(:button_text), class: "btn btn-primary" %>
<% end %>

<script type="text/javascript">
  $("#post_image").bind("change", function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert("5MBを超えるファイルはアップロードすることができません。データサイズの小さいファイルを選択してください。");
      $("#post_image").val("");
    }
  });
</script>